"use strict";const inputElement=document.querySelector(".js-filter"),showsContainer=document.querySelector(".js-shows"),formElement=document.querySelector(".js-form");let shows=[],favorites=[];function handleInput(e){e.preventDefault(),fetchApiData()}function fetchApiData(){fetch("http://api.tvmaze.com/search/shows?q="+inputElement.value).then(e=>e.json()).then(e=>{console.log(e),shows=e,renderShows()})}function renderShows(){let e="";for(let t=0;t<shows.length;t++){let s=shows[t].show.id,o=shows[t].show.name,n=shows[t].show.image;e+=`<li class="card js-card" id="${s}">`,e+=`<h4 class="js-show-name">${o}</h4>`,e+=null===n?'<img src="https://via.placeholder.com/210x295/ffffff/666666/?\n            text=TV" alt="no image available" class="js-show-img"/>':`<img src="${n.medium}"`,e+="</li>"}showsContainer.innerHTML=e,listenFavorites()}function handleCards(e){const t=e.currentTarget;console.log("me han clickado",t),favorites.push(t),console.log(favorites);const s=favorites;localStorage.setItem("favorites",s)}function listenFavorites(){const e=document.querySelectorAll(".js-card");for(const t of e)t.addEventListener("click",handleCards)}formElement.addEventListener("submit",handleInput);
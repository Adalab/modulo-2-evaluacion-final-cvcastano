"use strict";const inputElement=document.querySelector(".js-filter"),showsContainer=document.querySelector(".js-shows"),formElement=document.querySelector(".js-form"),favoritesContainer=document.querySelector(".js-favorites");let shows=[],favorites=[{score:12.937102,show:{id:6771,url:"http://www.tvmaze.com/shows/6771/the-powerpuff-girls",name:"The Powerpuff Girls",type:"Animation",language:"English",genres:["Comedy","Action","Science-Fiction"],status:"Running",runtime:15,premiered:"2016-04-04",officialSite:"https://www.cartoonnetwork.com/video/powerpuff-girls/index.html",schedule:{time:"17:30",days:["Sunday"]},rating:{average:6.2},weight:43,network:{id:11,name:"Cartoon Network",country:{name:"United States",code:"US",timezone:"America/New_York"}},webChannel:null,externals:{tvrage:null,thetvdb:307473,imdb:"tt4718304"},image:{medium:"http://static.tvmaze.com/uploads/images/medium_portrait/60/151357.jpg",original:"http://static.tvmaze.com/uploads/images/original_untouched/60/151357.jpg"},summary:"<p>The city of Townsville may be a beautiful, bustling metropolis, but don't be fooled! There's evil afoot! And only three things can keep the bad guys at bay: Blossom, Bubbles and Buttercup, three super-powered little girls, known to their fans (and villains everywhere) as <b>The Powerpuff Girls</b>. Juggling school, bedtimes, and beating up giant monsters may be daunting, but together the Powerpuff Girls are up to the task. Battling a who's who of evil, they show what it really means to \"fight like a girl.\"</p>",updated:1573685920,_links:{self:{href:"http://api.tvmaze.com/shows/6771"},previousepisode:{href:"http://api.tvmaze.com/episodes/1662010"}}}},{score:12.846353,show:{id:49892,url:"http://www.tvmaze.com/shows/49892/the-powerpuff-girls",name:"The Powerpuff Girls",type:"Scripted",language:"English",genres:[],status:"In Development",runtime:null,premiered:null,officialSite:null,schedule:{time:"",days:[]},rating:{average:null},weight:40,network:{id:5,name:"The CW",country:{name:"United States",code:"US",timezone:"America/New_York"}},webChannel:null,externals:{tvrage:null,thetvdb:null,imdb:null},image:null,summary:"<p>The superhero children have grown and are now disillusioned twentysomethings who resent having lost their childhood to crime fighting. Will they agree to reunite now that the world needs them more than ever?</p>",updated:1598405711,_links:{self:{href:"http://api.tvmaze.com/shows/49892"}}}}];function handleInput(e){e.preventDefault(),fetchApiData()}function fetchApiData(){fetch("http://api.tvmaze.com/search/shows?q="+inputElement.value).then(e=>e.json()).then(e=>{console.log(e),shows=e,renderShows()})}function renderShows(){let e="";for(let t=0;t<shows.length;t++){let o=shows[t].show.id,s=shows[t].show.name,a=shows[t].show.image;e+=`<li class="card js-card" id="${o}">`,e+=`<h4 class="js-show-name">${s}</h4>`,e+=null===a?'<img src="https://via.placeholder.com/210x295/ffffff/666666/?\n            text=TV" alt="no image available" class="js-show-img"/>':`<img src="${a.medium}"alt="Poster of '${s}'" class="js-show-img"/>`,e+="</li>"}showsContainer.innerHTML=e,listenFavorites()}function handleCards(e){const t=e.currentTarget;console.log("me han clickado",t),favorites.push(t),console.log("favoritos",favorites);const o=favorites;localStorage.setItem("favorites",o)}function listenFavorites(){const e=document.querySelectorAll(".js-card");for(const t of e)t.addEventListener("click",handleCards)}function renderFavorites(){let e="";for(let t=0;t<favorites.length;t++){let o=favorites[t].show.id,s=favorites[t].show.name,a=favorites[t].show.image;e+=`<li class="fav-card js-fav-card" id="${o}">`,e+=`<h4 class="js-fav-name">${s}</h4>`,e+=null===a?'<img src="https://via.placeholder.com/105x150/ffffff/666666/?\n            text=TV" alt="no image available" class="js-show-img"/>':`<img class="fav-img" src="${a.medium}"`,e+="</li>"}favoritesContainer.innerHTML=e,listenFavorites()}formElement.addEventListener("submit",handleInput),renderFavorites();